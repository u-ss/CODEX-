---
name: Research Agent v4.3.3
description: Research Agent v4.3.3
---

# Research Agent v4.3.3 (`/research`)

**5æ®µéšClaimä¸­å¿ƒèª¿æŸ»**: Phase 1ã§åºƒç¯„å›²èª¿æŸ» â†’ Phase 2ã§Claimæ­£è¦åŒ–ãƒ»æ¨è«– â†’ Phase 3ã§æ·±å±¤èª¿æŸ» â†’ Phase 3.5ã§æ¤œè¨¼ â†’ Phase 4ã§çµ±åˆã€‚

> [!CAUTION]
> **å¿…é ˆ**: ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒãƒ•ã‚©ãƒ«ãƒ€ã®`SKILL.md`ã‚’èª­ã‚“ã§ã‹ã‚‰å®Ÿè¡Œ

> [!IMPORTANT]
> **v4.3.3**: AntigravityãŒå„Phaseã‚’é †ç•ªã«å®Ÿè¡Œã€‚lib/ã®`ResearchRunContext`æ§‹é€ ã«å¾“ã£ã¦ãƒ‡ãƒ¼ã‚¿ã‚’æ•´ç†ã—ã€`_outputs/research/`ã«ä¿å­˜ã€‚

> [!IMPORTANT]
> **é–¾å€¤ã®æ­£æœ¬**: çµ‚äº†æ¡ä»¶ãƒ»åˆ¤å®šé–¾å€¤ã®æœ€çµ‚å®šç¾©ã¯ `SKILL.md` ã®è©²å½“ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å„ªå…ˆã™ã‚‹ã€‚

> [!IMPORTANT]
> **æ­£è¦CLIå…¥å£ï¼ˆå¿…é ˆï¼‰**:
> `python .agent/workflows/research/scripts/research.py --goal "<title>" --focus "<objective>" --task-id "<task_id>"`
> ã“ã®å…¥å£ã¯å®Ÿè¡Œå¾Œã«æˆæœç‰©æ•´åˆæ€§ï¼ˆ`final_report.md` / `audit_pack.json` / `evidence.jsonl` / `verified_claims.jsonl`ï¼‰ã‚’æ¤œè¨¼ã—ã€ä¸è¶³æ™‚ã¯å¤±æ•—çµ‚äº†ã™ã‚‹ã€‚

## ğŸ¯ Progress Checkpoints

| # | Checkpoint | å‡ºåŠ›ç‰© |
|:--|:-----------|:-------|
| 1 | Scope Confirmed | å•ã„å®šç¾©ãƒ»ã‚¹ã‚³ãƒ¼ãƒ—è¦ç´„ |
| 2 | Claims Normalized | NormalizedClaimä¸€è¦§ |
| 3 | Evidence Scored | ä¿¡é ¼æ€§ã‚¹ã‚³ã‚¢ä»˜ãè¨¼æ‹  |
| 4 | Claims Verified | VerifiedClaimï¼ˆstatusä»˜ãï¼‰ |
| 5 | Report Finalized | æœ€çµ‚ãƒ¬ãƒãƒ¼ãƒˆ + search_log.md |

## ğŸ“‹ å®Ÿè¡Œãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 1: WIDE RESEARCHï¼ˆåºƒåŸŸèª¿æŸ»ï¼‰                         â”‚
â”‚     â†’ 7è¦–ç‚¹ã§15-21å›æ¤œç´¢                                    â”‚
â”‚     â†’ RawClaimæŠ½å‡º                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Phase 2: ğŸ§  REASONING + CLAIM NORMALIZATION               â”‚
â”‚     â†’ RawClaim â†’ NormalizedClaimï¼ˆslotsæŠ½å‡ºï¼‰               â”‚
â”‚     â†’ æƒ…å ±ã‚®ãƒ£ãƒƒãƒ—ãƒ»çŸ›ç›¾ãƒ»æ·±æ˜ã‚Šãƒˆãƒ”ãƒƒã‚¯ç‰¹å®š                 â”‚
â”‚     â†’ Phase 3ç”¨ã‚µãƒ–è³ªå•ã‚’è‡ªå‹•ç”Ÿæˆ                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Phase 3: DEEP RESEARCHï¼ˆæ·±å±¤èª¿æŸ»ï¼‰                         â”‚
â”‚     â†’ Phase 2ã§ç‰¹å®šã—ãŸãƒˆãƒ”ãƒƒã‚¯ã‚’å¾¹åº•èª¿æŸ»                   â”‚
â”‚     â†’ Evidenceåé›† + ä¿¡é ¼æ€§ã‚¹ã‚³ã‚¢è¨ˆç®—                       â”‚
â”‚     â†’ çµ‚äº†æ¡ä»¶åˆ¤å®šï¼ˆcoverage/convergence/utilityï¼‰          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Phase 3.5: ğŸ” VERIFICATIONï¼ˆæ¤œè¨¼ï¼‰â˜…v4.3.2å¼·åŒ–             â”‚
â”‚     â†’ ä¸»è¦Claimã«å¯¾ã—ã¦åè¨¼æ¢ç´¢å¿…é ˆ                         â”‚
â”‚     â†’ statusåˆ¤å®šï¼ˆé–¾å€¤ãƒ™ãƒ¼ã‚¹ï¼‰                               â”‚
â”‚     â†’ counterevidence_logè¨˜éŒ²                                â”‚
â”‚     â†’ â˜…v4.3.2: failure_detector ã§è‡ªå‹•æ¤œè¨¼                  â”‚
â”‚     â†’ â˜…v4.3.2: ArtifactWriter ã§æ°¸ç¶šåŒ–                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Phase 4: SYNTHESISï¼ˆçµ±åˆï¼‰                                 â”‚
â”‚     â†’ VerifiedClaimç¾¤ã‚’çµ±åˆãƒ¬ãƒãƒ¼ãƒˆåŒ–                       â”‚
â”‚     â†’ æ¡ç”¨/é™¤å¤–åˆ¤æ–­ãƒ»å¼•ç”¨é¸å®š                               â”‚
â”‚     â†’ â˜… search_log.md å‡ºåŠ›ï¼ˆæ¤œç´¢ã‚¯ã‚¨ãƒªãƒ»ã‚½ãƒ¼ã‚¹ãƒ»ä»¶æ•°ï¼‰     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ Artifactså®šç¾©ï¼ˆå„Phaseå…¥å‡ºåŠ›ï¼‰â˜…v4.3.1è¿½åŠ 

### Phase 1: Wide Research
| ç¨®åˆ¥ | å¿…é ˆé …ç›® |
|:-----|:---------|
| **Input** | `query`, `scope`, `constraints` |
| **Output** | `RawClaim[]`ï¼ˆclaim_text, source_url, published_atï¼‰, `search_log[]` |

### Phase 2: Reasoning
| ç¨®åˆ¥ | å¿…é ˆé …ç›® |
|:-----|:---------|
| **Input** | `RawClaim[]` |
| **Output** | `NormalizedClaim[]`ï¼ˆclaim_id, statement, scope, decision_relevanceï¼‰, `Gap[]`, `sub_questions[]` |

### Phase 3: Deep Research
| ç¨®åˆ¥ | å¿…é ˆé …ç›® |
|:-----|:---------|
| **Input** | `NormalizedClaim[]`, `Gap[]` |
| **Output** | `Evidence[]`ï¼ˆsource_id, quote, supports/refutes, quality_scoreï¼‰, `coverage_map` |

### Phase 3.5: Verification
| ç¨®åˆ¥ | å¿…é ˆé …ç›® |
|:-----|:---------|
| **Input** | `NormalizedClaim[]`, `Evidence[]` |
| **Output** | `VerifiedClaim[]`ï¼ˆstatus, rationale, conditionsï¼‰, `counterevidence_log[]` â˜…New |

### Phase 4: Synthesis
| ç¨®åˆ¥ | å¿…é ˆé …ç›® |
|:-----|:---------|
| **Input** | `VerifiedClaim[]` |
| **Output** | `FinalReport`, `claim_cards[]`, `audit_pack`, **`search_log.md`** â˜…New |

---

## âœ… æ¤œè¨¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹é–¾å€¤ â˜…v4.3.1è¿½åŠ 

| Status | åˆ¤å®šåŸºæº– |
|:-------|:---------|
| **VERIFIED** | é«˜å“è³ªã‹ã¤ç‹¬ç«‹ã—ãŸæ”¯æŒEvidenceâ‰¥2ã€ä¸»è¦åè¨¼ãªã—ã€scopeä¸€è‡´ |
| **CONDITIONED** | æ”¯æŒEvidenceã‚ã‚‹ãŒæˆç«‹æ¡ä»¶ã‚ã‚Šï¼ˆåœ°åŸŸ/ç‰ˆ/å‰æï¼‰ã€ã¾ãŸã¯coverageãŒéƒ¨åˆ†çš„ |
| **CONTESTED** | é«˜å“è³ªã‚½ãƒ¼ã‚¹é–“ã§çµè«–ãŒå‰²ã‚Œã‚‹ã€æ”¯æŒ/åè¨¼ãŒæ‹®æŠ— |
| **UNSUPPORTED** | æ”¯æŒEvidenceãŒ0ã€œ1ä»¶ã§å¼±ã„ã€locatorä¸æ˜ã€ä¸€æ¬¡ä¸åœ¨ |
| **REFUTED** | é«˜å“è³ªã§ç‹¬ç«‹ã—ãŸåè¨¼Evidenceâ‰¥2ã€æ¡ä»¶ä»˜ã‘ã§æ•‘ãˆãªã„ |

### ç·©å’Œãƒ«ãƒ¼ãƒ«
- é©ç”¨æ¡ä»¶: `risk_level=low` ã‹ã¤ æ¦‚èª¬ç”¨é€” ã‹ã¤ `decision_relevance=ä¸­ä»¥ä¸‹`
- ç·©å’Œã¯æœ€å¤§1æ®µéšï¼ˆä¾‹: VERIFIEDç›¸å½“â†’CONDITIONEDï¼‰
- **CONTESTED/REFUTEDã¯ç·©å’Œä¸å¯**
- `relaxation_reason` ã‚’å¿…é ˆè¨˜éŒ²

---

## ğŸ” åè¨¼æ¢ç´¢ãƒ—ãƒ­ãƒˆã‚³ãƒ« â˜…v4.3.1è¿½åŠ 

### ä¸»è¦Claimã®é¸å®šåŸºæº–
- `decision_relevance=high`ï¼ˆçµè«–/æ¨å¥¨ã®æ ¹æ‹ ã«ãªã‚‹ï¼‰
- å¼·ã„æ–­å®šèªã‚’å«ã‚€ï¼ˆã€Œå¿…ãšã€ã€Œå”¯ä¸€ã€ã€Œæœ€é©ã€ç­‰ï¼‰
- æ•°å€¤æ¯”è¼ƒ/ãƒ©ãƒ³ã‚­ãƒ³ã‚°/å”¯ä¸€æ€§
- æ³•è¦/å®‰å…¨/é‡‘è/ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£

### æ¢ç´¢æ‰‹é †ï¼ˆä¸»è¦Claimã”ã¨ã«å®Ÿæ–½ï¼‰
1. **Claimåè»¢**: statementã‚’å¦å®šå½¢ã«å¤‰æ›
2. **ä¾‹å¤–æ¢ç´¢**: ã€Œåˆ¶é™ã€ã€Œå¤±æ•—æ¡ä»¶ã€ã€Œå¢ƒç•Œã‚±ãƒ¼ã‚¹ã€
3. **æ‰¹åˆ¤èªå½™**: `critique`, `limitation`, `failed to`
4. **é«˜å“è³ªã‚½ãƒ¼ã‚¹å„ªå…ˆ**: è¦åˆ¶å½“å±€/æ¨™æº–/æŸ»èª­
5. **æ¢ç´¢ãƒ­ã‚°è¨˜éŒ²**: æ¤œç´¢èªã€æœŸé–“ã€ä¸Šä½çµæœã®æ¡å¦ç†ç”±

### åè¨¼ã®å‡¦ç†
| çŠ¶æ³ | å‡¦ç† |
|:-----|:-----|
| åè¨¼ãŒè¦‹ã¤ã‹ã£ãŸ | Evidenceè¡¨ã«refutesã¨ã—ã¦è¿½åŠ ã€statusèª¿æ•´ |
| ä¸¡ç«‹å¯èƒ½ | CONDITIONED/CONTESTEDã«èª¿æ•´ã€conditionsè¨˜éŒ² |
| è¦‹ã¤ã‹ã‚‰ãªã„ | ã€Œæ¢ç´¢ã—ãŸãŒè¦‹ã¤ã‹ã‚‰ãªã„ã€ã‚’è¨˜éŒ²ï¼ˆVERIFIEDã®è£œå¼·è¦å› ã®ã¿ï¼‰ |

---

## ğŸ“Š ç›®æ¨™å€¤

| Phase | æ¤œç´¢å›æ•° | ä¸»ãªæˆæœç‰© |
|:------|:--------:|:-----------|
| Phase 1 | 15-21å› | RawClaim[] |
| Phase 2 | - | NormalizedClaim[], Gap[] |
| Phase 3 | 30-50å› | Evidence[], ä¿¡é ¼æ€§ã‚¹ã‚³ã‚¢ |
| Phase 3.5 | - | VerifiedClaim[], counterevidence_log[] |
| Phase 4 | - | **çµ±åˆæœ€çµ‚ãƒ¬ãƒãƒ¼ãƒˆ** + **search_log.md** |

## ğŸ”§ Pythonãƒ©ã‚¤ãƒ–ãƒ©ãƒª â˜…v4.3.3æ›´æ–°

`lib/`é…ä¸‹ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼š
- `models.py`: Stance, ClaimStatus, ArtifactBase
- `claims.py`: RawClaim, NormalizedClaim, ClaimNormalizer
- `scoring.py`: Evidence, freshness_score, aggregate_confidence
- `verification.py`: VerifiedClaim, determine_status, ClaimStatusEnum
- `termination.py`: should_stop, TerminationConfig
- `failure_detector.py`: FailureDetector, FailureEvent
- `artifacts.py`: ArtifactWriter, RawClaimRecord, VerifiedClaimRecord
- `context.py`: ResearchRunContext (Phaseé–“å…±æœ‰çŠ¶æ…‹) â˜…v4.3.3
- `phase_runner.py`: Phase, PhaseSignal, PhaseResult â˜…v4.3.3
- `orchestrator.py`: ResearchOrchestrator (å‚ç…§ç”¨) â˜…v4.3.3
- `handlers/`: å„Phaseã®ãƒ­ã‚¸ãƒƒã‚¯ (å‚ç…§ç”¨) â˜…v4.3.3

## ğŸ’¡ Rules

- **Phase 1â†’2â†’3â†’3.5â†’4 ã¯å¿…ãšé †æ¬¡å®Ÿè¡Œ**
- **Phase 3.5ã®æ¤œè¨¼ã¯AntigravityãŒç›´æ¥å®Ÿè¡Œ**
- **ä¸»è¦Claimã¯åè¨¼æ¢ç´¢å¿…é ˆ** â˜…v4.3.1
- **çµ‚äº†æ¡ä»¶: coverageâ‰¥0.75 AND (converged OR low_utility)**
- **search_log.mdå¿…é ˆ**: ãƒ¬ãƒãƒ¼ãƒˆã¨åŒæ™‚ã«æ¤œç´¢ãƒ­ã‚°ã‚’å‡ºåŠ› â˜…New
- **Language**: æ—¥æœ¬èªã§ãƒ¬ãƒãƒ¼ãƒˆå‡ºåŠ›

## âš ï¸ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ‰‹é †

| çŠ¶æ³ | å¯¾å¿œ |
|:-----|:-----|
| æ¤œç´¢å¤±æ•— | 3å›ãƒªãƒˆãƒ©ã‚¤å¾Œã€åˆ¥ã‚¯ã‚¨ãƒªã§å†è©¦è¡Œ |
| ã‚½ãƒ¼ã‚¹ä¸è¶³ | 7è¦–ç‚¹ä»¥å¤–ã®è¿½åŠ è¦–ç‚¹ã§è£œå®Œ |
| Phaseé–“ã§ã‚¨ãƒ©ãƒ¼ | ç›´å‰ã®Checkpointã«æˆ»ã£ã¦å†å®Ÿè¡Œ |
| çµ‚äº†æ¡ä»¶æœªé” | min_coverageâ‰¥0.55ã§æ‰“ã¡åˆ‡ã‚Š |

## ğŸ§© å­ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæŒ¯ã‚Šåˆ†ã‘

| æ¡ä»¶ | æŒ¯ã‚Šåˆ†ã‘å…ˆ |
|:-----|:-----------|
| é€šå¸¸ã®ãƒªã‚µãƒ¼ãƒ | è¦ªï¼ˆã“ã® WORKFLOW.mdï¼‰ã§ç›´æ¥å®Ÿè¡Œ |
| ãƒ­ãƒ¼ã‚«ãƒ«å®Œçµãƒ»å¤–éƒ¨APIãªã— | `sub_agents/stealth_local/SPEC.md` ã‚’èª­ã‚“ã§å®Ÿè¡Œ |
