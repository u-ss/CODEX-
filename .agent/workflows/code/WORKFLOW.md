---
name: Code Agent v4.2.4
description: å®Ÿè£…ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ - 7-Phaseé–‹ç™ºãƒ•ãƒ­ãƒ¼ï¼ˆRunContextçµ±åˆãƒ»Self-Healingå¼·åŒ–ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒæœŸï¼‰
---

# Implementation Agent v4.2.4 (`/code`)

**Protocol-Based + RunContext**: å…¨ãƒ•ã‚§ãƒ¼ã‚ºãŒå…±é€šçŠ¶æ…‹ã‚’å‚ç…§ã—ã€é©å¿œçš„Self-Healingã§å›å¾©ã€‚å®Ÿè£…å¾Œã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒæœŸã€‚KI Learningé€£æºã‚’å«ã‚€ã€‚

> [!CAUTION]
> **å¿…é ˆ**: ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒãƒ•ã‚©ãƒ«ãƒ€ã®`SKILL.md`ã‚’èª­ã‚“ã§ã‹ã‚‰å®Ÿè¡Œ

## ğŸ“‹ Protocol: 7-Phase Development Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. RESEARCH ğŸ”                                             â”‚
â”‚     â†’ list_dir, grep_search ã§ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹èª¿æŸ»              â”‚
â”‚     â†’ â˜… RunContext.codebase_map + evidence ã«å‡ºåŠ›          â”‚
â”‚     â†“                                                       â”‚
â”‚  2. PLAN ğŸ“ + Plan Lint                                     â”‚
â”‚     â†’ è§£æ±ºç­–ã‚’ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³                                  â”‚
â”‚     â†’ â˜… Plan Lint: å¿…é ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ + Evidenceæ¤œè¨¼           â”‚
â”‚     â†’ â˜… RunContext.change_plan ã«å‡ºåŠ›                      â”‚
â”‚     â†“                                                       â”‚
â”‚  3. TEST ğŸ§ª (TDD + å·®åˆ†é§†å‹•)                                â”‚
â”‚     â†’ Smoke â†’ Diff-related â†’ Full ã®é †åº                   â”‚
â”‚     â†’ ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«å…ˆè¡Œä½œæˆ â†’ å¤±æ•—ç¢ºèªï¼ˆRedï¼‰              â”‚
â”‚     â†“                                                       â”‚
â”‚  4. CODE âœï¸                                                 â”‚
â”‚     â†’ ãƒ†ã‚¹ãƒˆã‚’é€šã™å®Ÿè£…ï¼ˆGreenï¼‰                             â”‚
â”‚     â†’ â˜… å¤‰æ›´å¾Œ RunContext.execution_trace ã«è¨˜éŒ²           â”‚
â”‚     â†“                                                       â”‚
â”‚  5. DEBUG ğŸ”§ + Self-Healing                                 â”‚
â”‚     â†’ â˜… å¤±æ•—åˆ†é¡ï¼ˆtransient/deterministic/flakyï¼‰          â”‚
â”‚     â†’ â˜… é©å¿œãƒªãƒˆãƒ©ã‚¤ or ä¿®æ­£                               â”‚
â”‚     â†’ â˜… å±€æ‰€CBï¼ˆã‚³ãƒãƒ³ãƒ‰/ãƒ†ã‚¹ãƒˆå˜ä½ï¼‰                      â”‚
â”‚     â†“                                                       â”‚
â”‚  6. VERIFY âœ…                                               â”‚
â”‚     â†’ å…¨æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ                                          â”‚
â”‚     â†’ â˜… æ•°å€¤åŒ–å®Œäº†æ¡ä»¶ï¼ˆpassç‡100%ã€coverage 80%ï¼‰         â”‚
â”‚     â†“                                                       â”‚
â”‚  7. DOCUMENT ğŸ“ (v4.2.1è¿½åŠ )                                â”‚
â”‚     â†’ é–¢é€£SKILL/WORKFLOW/READMEã‚’èª­ã‚€                        â”‚
â”‚     â†’ â˜… é‡è¤‡ã‚’é¿ã‘ã¦é©åˆ‡ã«æ›´æ–°                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ ä½¿ç”¨ãƒ„ãƒ¼ãƒ«

| Phase | ãƒ„ãƒ¼ãƒ« |
|:------|:-------|
| RESEARCH | `list_dir`, `grep_search`, `view_file`, `view_file_outline` |
| PLAN | `write_to_file`ï¼ˆãƒ—ãƒ©ãƒ³ä½œæˆï¼‰, **Plan Lint** |
| TEST | `write_to_file`, `run_command`ï¼ˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼‰|
| CODE | `replace_file_content`, `write_to_file` |
| DEBUG | `run_command`, **Self-Healing** |
| VERIFY | `run_command`, **å®Œäº†æ¡ä»¶ãƒã‚§ãƒƒã‚¯** |
| DOCUMENT | `view_file`, `grep_search`, `replace_file_content` |

### PowerShellã‚³ãƒãƒ³ãƒ‰ä¾‹ï¼ˆv4.2.4è¿½åŠ ï¼‰

| ãƒ„ãƒ¼ãƒ« | PowerShellä¾‹ |
|:-------|:-------------|
| `list_dir` | `Get-ChildItem -Recurse -Depth 2` |
| `grep_search` | `Select-String -Pattern "xxx" -Path *.py -Recurse` |
| `run_command` (test) | `python -m pytest tests/ -v` |
| `run_command` (build) | `python -m build` |
| `run_command` (coverage) | `python -m pytest --cov=lib tests/` |

## ğŸ”„ Self-Healing v1

å¤±æ•—ç™ºç”Ÿæ™‚:
1. **åˆ†é¡**: transient/deterministic/environment/flaky/policy
2. **åˆ¤æ–­**: 
   - transient/flaky â†’ ãƒªãƒˆãƒ©ã‚¤
   - deterministic â†’ ä¿®æ­£
   - environment â†’ ç’°å¢ƒä¿®å¾©
   - policy â†’ å³åœæ­¢
3. **å±€æ‰€CB**: ã‚³ãƒãƒ³ãƒ‰/ãƒ†ã‚¹ãƒˆå˜ä½ã§é®æ–­
4. 3å›å¤±æ•—ã§åœæ­¢ â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å ±å‘Š

## ğŸ“Š å®Œäº†æ¡ä»¶ï¼ˆæ•°å€¤åŒ–ï¼‰

| æŒ‡æ¨™ | é–¾å€¤ |
|:-----|:-----|
| ãƒ†ã‚¹ãƒˆpassç‡ | 100% |
| changed-lines coverage | 80% |
| æ–°è¦lint errors | 0 |
| å—ã‘å…¥ã‚Œæ¡ä»¶ | 100%å……è¶³ |

## ğŸ“ DOCUMENTãƒ•ã‚§ãƒ¼ã‚º (v4.2.1è¿½åŠ )

å®Ÿè£…å®Œäº†å¾Œã€é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’åŒæœŸ:

1. **å¯¾è±¡ç‰¹å®š**: å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ã«é–¢é€£ã™ã‚‹SKILL.md/WORKFLOW.md/READMEã‚’æ´—ã„å‡ºã™
2. **å†…å®¹ç¢ºèª**: æ—¢å­˜ã®è¨˜è¿°ã‚’èª­ã¿ã€é‡è¤‡ãŒãªã„ã‹ç¢ºèª
3. **æ›´æ–°åˆ¤æ–­**: 
   - ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå· â†’ æ›´æ–°
   - æ–°æ©Ÿèƒ½/API â†’ è¿½è¨˜
   - å»ƒæ­¢/å‰Šé™¤ â†’ å‰Šé™¤
4. **æ•´åˆæ€§ç¢ºèª**: å¤‰æ›´å¾Œã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒã‚³ãƒ¼ãƒ‰ã¨ä¸€è‡´ã—ã¦ã„ã‚‹ã‹ç¢ºèª

## ğŸ’¡ Rules

- **7-Phaseé †æ¬¡å®Ÿè¡Œ**
- **RunContextå¿…é ˆ**: å…¨ãƒ•ã‚§ãƒ¼ã‚ºãŒåŒã˜çŠ¶æ…‹ã‚’å‚ç…§
- **Plan Lintå¿…é ˆ**: æœªå……è¶³ãªã‚‰PLANã«æˆ»ã‚‹
- **Self-Healingæœ‰åŠ¹**: åˆ†é¡â†’é©å¿œãƒªãƒˆãƒ©ã‚¤
- **DOCUMENTå¿…é ˆ**: å®Ÿè£…å¾Œã«é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’åŒæœŸ
- **å¤±æ•—/æˆåŠŸã‚’è¨˜éŒ²**ï¼ˆKI Learningé€£æºï¼‰
- **Language**: æ—¥æœ¬èªã§å ±å‘Š



